$.fn.silde=function(cfg){var bannerWidth=$(this).width();var bannerHeight=$(this).height();$(this).find('ul li').css({'width':bannerWidth,'height':bannerHeight});var oUl=$(this).children('ul');var aOl=$(this).children('ol');var clone=$(this).find('ul li').first().clone();$(this).find('ul').append(clone);var len=$(this).find('ul li').length;var i=0;for(var j=0;j<len-1;j++){$(this).find('ol').append('<li>'+'</li>');$(this).find('ol li').first().addClass('active')}var liWidth=$(this).find('ol li').width();var olWidth=liWidth*(len-1)*2;$(this).find('ol').css({'width':olWidth,'marginLeft':-(olWidth-10)/2});aOl.find('li').click(function(){var index=$(this).index();i=index;oUl.stop().animate({left:-(i*bannerWidth)+'px'},500);$(this).addClass('active').siblings().removeClass('active')});$('.nextBtn').click(function(){i++;autoplay()});$('.prevBtn').click(function(){i--;autoplay()});if(cfg.autoplay){var t=setInterval(function(){i++;autoplay()},cfg.stopTime||5000)}else{return false}if(cfg.hover){$(this).hover(function(){clearInterval(t)},function(){t=setInterval(function(){i++;autoplay()},cfg.stopTime||5000)})}function autoplay(){if(i==len){oUl.css({left:0});i=1}if(i==-1){oUl.css({left:-(len-1)*bannerWidth});i=len-2}oUl.stop().animate({left:-(i*bannerWidth)+'px'},500);if(i==len-1){aOl.find('li').eq(0).addClass('active').siblings().removeClass('active')}else{aOl.find('li').eq(i).addClass('active').siblings().removeClass('active')}}}
